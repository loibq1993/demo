{"version":3,"file":"js/5681.b243987a.js","mappings":"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","sources":["webpack://@coreui/coreui-free-vue-admin-template/./src/views/client/Exam.vue","webpack://@coreui/coreui-free-vue-admin-template/./src/views/client/question-components/FillTheBlank.vue","webpack://@coreui/coreui-free-vue-admin-template/./src/views/client/question-components/FillTheBlank.vue?7b64","webpack://@coreui/coreui-free-vue-admin-template/./src/views/client/Exam.vue?ded7"],"sourcesContent":["<template>\n  <div class=\"bg-light min-vh-100 d-flex flex-row mb-5\">\n    <CContainer>\n      <CForm action=\"#\" id=\"formExam\">\n        <CRow class=\"justify-content-center\">\n          <div class=\"header-content w-50 m-auto mb-5\">\n            <div class=\"border p-4\">\n              <div class=\"title row\">\n                <label class=\"col-3 mb-2\">Title: </label>\n                <span class=\"col-9\">{{ exam.title }}</span>\n              </div>\n              <div class=\"description row\">\n                <label class=\"col-3 mb-2\">Description: </label>\n                <span class=\"col-9\">{{ exam.description }}</span>\n              </div>\n              <div class=\"start_date row\">\n                <label class=\"col-3 mb-2\">Start date: </label>\n                <span class=\"col-9\">{{ format_date(exam.start_date) }}</span>\n              </div>\n              <div class=\"end_date row\">\n                <label class=\"col-3 mb-2\">End date: </label>\n                <span class=\"col-9\">{{ format_date(exam.end_date) }}</span>\n              </div>\n              <div class=\"time row\">\n                <label class=\"col-3 mb-2\">Time: </label>\n                <span class=\"col-9\" id=\"countdown\"></span>\n              </div>\n            </div>\n          </div>\n          <div class=\"exam-content border p-4\">\n            <div v-for=\"(exam_question, index) in exam_questions\" :key=\"index\">\n              <FillTheBlank v-if=\"exam_question.questions[0].type===1\" :question=\"exam_question.questions[0]\"\n                            :index=\"index+1\"></FillTheBlank>\n            </div>\n          </div>\n        </CRow>\n        <div class=\"submit mt-3 row\">\n          <button type=\"submit\" id=\"form-submit\" class=\"btn btn-success m-auto text-white w-auto\" @click=\"save\">Save\n          </button>\n        </div>\n      </CForm>\n    </CContainer>\n  </div>\n</template>\n\n<script>\nimport {APISettings} from \"@/config/config\";\nimport moment from \"moment/moment\";\nimport FillTheBlank from \"@/views/client/question-components/FillTheBlank\";\nimport router from \"@/router\";\n\nexport default {\n  name: 'Exam',\n  components: {FillTheBlank},\n  data() {\n    return {\n      view: NaN,\n      exam_questions: '',\n      answers: '',\n      exam: [],\n      href: window.location,\n      countdown: '',\n      timer: ''\n    }\n  },\n  created() {\n    this.fetchData();\n  },\n  methods: {\n    fetchData() {\n      let fetchData = fetch('http://localhost:8000/api' + '/test/exams/' + this.$route.params.id, {\n        method: 'GET',\n        headers: APISettings.headers\n      })\n        .then(function (response) {\n          if (response.status !== 200) {\n            throw response.status;\n          } else {\n            return response.json();\n          }\n        });\n      fetchData.then(data => {\n        if (!data.exam) {\n          router.push({\n            name: \"Page404\"\n          })\n        }\n        this.exam = data.exam;\n        this.exam_questions = data.exam.exam_questions\n        let time = this.exam.count_down;\n        let arr = time.split(':');\n        this.timer = (arr[0] * 3600 + arr[1] * 60 + (+arr[2])) * 1000;\n        this.countDown();\n      })\n    },\n    format_date(value) {\n      if (value) {\n        return moment(String(value)).format('YYYY-MM-DD')\n      }\n    },\n    countDown() {\n      var currentTime = new Date().getTime();\n      var countDownDate = currentTime + this.timer;\n      var x = setInterval(function () {\n        //get now\n        let now = new Date().getTime();\n        // Find the distance between now and the count down date\n        var distance = new Date(countDownDate - now).getTime();\n\n        // Time calculations for days, hours, minutes and seconds\n        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n        var seconds = Math.floor((distance % (1000 * 60)) / 1000);\n        // Output the result in an element with id=\"demo\"\n        document.getElementById(\"countdown\").innerHTML = hours + \"h \"\n          + minutes + \"m \" + seconds + \"s \";\n\n        // If the count down is over, write some text\n        if (distance < 0) {\n          clearInterval(x);\n          document.getElementById(\"form-submit\").click();\n        }\n      }, 1000);\n    },\n    async save(e) {\n      e.preventDefault();\n\n      let myForm = document.getElementById('formExam');\n      let formData = new FormData(myForm);\n\n      //the way to handle data\n      var sameKey = [];\n      let data = {};\n      for (let [key, val] of formData.entries()) {\n        if (key !== sameKey[key]) {\n          sameKey[key] = key;\n          data[key] = [];\n          data[key].push(val)\n        } else {\n          data[key].push(val)\n        }\n      }\n      data.exam_id = this.exam.id\n      data.time = document.getElementById('countdown').innerHTML\n\n      fetch('http://localhost:8000/api' + '/test/exams/' + this.$route.params.id, {\n        method: 'POST',\n        headers: APISettings.headers,\n        body: JSON.stringify(data)\n      })\n        .then(function (response) {\n          return response.json();\n        })\n        .then((data) => {\n          console.log(data);\n        })\n    }\n  }\n}\n</script>\n<style scoped>\n.border {\n  border: 1px solid gray;\n  border-radius: 5px;\n  box-shadow: 2px 2px #888888;\n  background-color: #fff;\n}\n\n.submit .btn-success {\n  right: 0;\n}\n</style>\n","<template>\n  <div class=\"fill_the_blank mb-5\">\n    <div class=\"question\">\n      <div class=\"title form-label\" style=\"font-weight: bold\">Question {{index}}: {{ question.title }}</div>\n      <div class=\"content\">\n        <div v-html=\"questionHTML\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n\nexport default {\n  name: 'FillTheBlank',\n  props: ['question', 'index'],\n  data() {\n    return {\n      answers: []\n    }\n  },\n  computed: {\n    questionHTML() {\n      let html = this.question.question\n      let answers = this.question.full_answers\n      for (let i = 0; i < answers.length; i++) {\n        let limit = answers[i].correct_answers[0].correct_answer_detail.correct_answer.length\n        html = html.replace('___', '<input type=\"text\" name=\"answers_'+answers[i].id+'[]\" class=\"replaced-input\" style=\"width: '+limit+'0px\"/>');\n      }\n      return html\n    }\n  },\n  methods: {\n\n  }\n}\n</script>\n","import { render } from \"./FillTheBlank.vue?vue&type=template&id=79b44164\"\nimport script from \"./FillTheBlank.vue?vue&type=script&lang=js\"\nexport * from \"./FillTheBlank.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Exam.vue?vue&type=template&id=d413a148&scoped=true\"\nimport script from \"./Exam.vue?vue&type=script&lang=js\"\nexport * from \"./Exam.vue?vue&type=script&lang=js\"\n\nimport \"./Exam.vue?vue&type=style&index=0&id=d413a148&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d413a148\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","_createElementBlock","_hoisted_1","_createVNode","_component_CContainer","_component_CForm","action","_component_CRow","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","$data","exam","title","_hoisted_7","_hoisted_8","_hoisted_9","description","_hoisted_10","_hoisted_11","_hoisted_12","$options","format_date","start_date","_hoisted_13","_hoisted_14","_hoisted_15","end_date","_hoisted_16","_hoisted_17","_Fragment","_renderList","exam_questions","exam_question","index","key","questions","type","_createBlock","_component_FillTheBlank","question","_hoisted_18","onClick","_cache","args","save","style","$props","innerHTML","questionHTML","name","props","data","answers","computed","html","this","full_answers","i","length","limit","correct_answers","correct_answer_detail","correct_answer","replace","methods","__exports__","components","FillTheBlank","view","NaN","href","window","location","countdown","timer","created","fetchData","fetch","$route","params","method","headers","APISettings","then","response","status","json","router","push","time","count_down","arr","split","countDown","value","moment","String","format","currentTime","Date","getTime","countDownDate","x","setInterval","now","distance","hours","Math","floor","minutes","seconds","document","getElementById","clearInterval","click","e","preventDefault","myForm","formData","FormData","sameKey","val","entries","exam_id","body","JSON","stringify","console","log","render"],"sourceRoot":""}